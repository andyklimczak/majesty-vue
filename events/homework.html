<html>
  <head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <title>Upvote</title>
  </head>
  <body>
    <div class="container">
      <h1>People of Vue</h1>
      <ul class="list-gorup">
        <li v-for="person in people" class="list-group-item">
          {{ person.name }} {{ person.votes}} <button @click="person.votes++">Vote</button>
        </li>
        <input placeholder="Press delete to reset" @keyup.delete="reset" class="form-control">
      </ul>
      <h2>Our mayor is {{ mayor }}!</h2>
      <pre>
        {{ $data }}
      </pre>
    </div>
  </body>
  <script src="https://unpkg.com/vue/dist/vue.js"></script>
  <script>
    new Vue({
      el: '.container',
      data: {
        people: [
          {
            name: 'Mr Black',
            votes: 0
          },
          {
            name: 'Mr Red',
            votes: 0
          },
          {
            name: 'Mr Blue',
            votes: 0
          },
          {
            name: 'Mr White',
            votes: 0
          },
        ]
      },
      methods: {
        reset() {
          this.people = this.people.map(function(person) {
            person.votes = 0;
            return person;
          });
        }
      },
      computed: {
        mayor: function() {
          return this.people.sort(function(a, b) {
            return b.votes - a.votes;
          })[0].name;
        }
      }
    })
  </script>
</html>
